(this["webpackJsonppoke-idle"]=this["webpackJsonppoke-idle"]||[]).push([[0],Array(40).concat([function(e,t,n){e.exports=n(83)},,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(25),o=n.n(i),c=n(14),l=n(11),s=n(15),u=n(20),p=n(2),m=n(3),f=n(5),h=n(4),d=n(8),v=n(6);n(49);function E(e){var t=e.width,n=e.maxWidth;return{width:t,height:e.height,maxWidth:n}}var b=function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Avatar",style:E(this.props)},r.a.createElement("div",null,r.a.createElement("img",{src:this.props.image,alt:"avatar"})))}}]),t}(a.Component);n(50);function g(e){var t=e.width,n=e.height,a=e.color;return{width:t,height:n,border:"1px solid ".concat(a)}}var O=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this,e))).fillBar=n.fillBar.bind(Object(d.a)(n)),n.calcFill=n.calcFill.bind(Object(d.a)(n)),n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:g(this.props),className:"Bar"},this.fillBar(this.props.current,this.props.max))}},{key:"fillBar",value:function(e,t){if(void 0!==e)return r.a.createElement("div",{style:this.calcFill(e,t)})}},{key:"calcFill",value:function(e,t){return{width:"".concat(Math.round(e/t*100),"%"),backgroundColor:this.props.color}}}]),t}(a.Component),y=(n(51),function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"CharacterInformation"},r.a.createElement("div",null,r.a.createElement("h3",null,this.props.name),r.a.createElement("h3",null,"Lv. ",this.props.level)),r.a.createElement(O,{color:"green",width:"90%",height:"15px"}),r.a.createElement(O,{current:this.props.xp,max:this.props.maxXp,color:"blue",width:"80%",height:"10px"}))}}]),t}(a.Component));n(52);function k(e){var t=e.width,n=e.height,a=e.maxWidth;e.borderBend;return{width:t,maxWidth:a,height:n}}var j=function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"ProfileOverview","data-pokemon":this.props.pokemonId,style:k(this.props)},r.a.createElement(b,{image:this.props.image}),r.a.createElement(y,{name:this.props.name,health:this.props.health,level:this.props.level,xp:this.props.xp,maxXp:this.props.maxXp}))}}]),t}(a.Component);n(53);var S=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this,e))).state={active:n.props.active,fallback:n.props.fallback},n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"MenuToggler"},this.props.searchbar?r.a.createElement("div",{id:"search"},r.a.createElement("input",{type:"text",placeholder:"Search shop..."}),r.a.createElement("button",null,"Search")):void 0,r.a.createElement("div",{id:"options",onClick:function(t){var n=function e(t){return Object(u.a)(t.classList).includes("option")?t.getAttribute("value"):"options"!==t.id&&e(t.parentElement)}(t.target);!1!==n&&e.setState({active:n,fallback:e.props.fallback})}},this.menuOptions()),r.a.createElement("div",{id:"menuItems",onClick:this.props.menuItemClickEvent},this.menuItems(this.state.active)))}},{key:"menuOptions",value:function(){var e=[],t=this.props.menus;for(var n in t)e.push(r.a.createElement("div",{className:"option",key:n,value:n},t[n].menuIcon));return e}},{key:"menuItems",value:function(e){return void 0!==this.props.menus[e]&&void 0!==this.props.menus[e].items?this.props.menus[e].items.map((function(e,t){return r.a.createElement("div",{key:t,className:"menuItem"},e)})):this.props.menus[this.props.fallback].items}}]),t}(a.Component),T=n(9),x=n.n(T),P=function(e,t){return x.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",fetch("https://pokeapi.co/api/v2/".concat(e,"/").concat(t)).then((function(e){if(e.ok)return e;throw Error(e.statusText)})).then((function(e){return e.json()})).catch(console.error));case 1:case"end":return n.stop()}}))};function R(e){return P("pokemon",e)}function I(e){return P("pokemon-species",e)}function C(e){return P("item",e)}n(55);var _=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this,e))).fetchImages=n.fetchImages.bind(Object(d.a)(n)),n.createRosterItems=n.createRosterItems.bind(Object(d.a)(n)),n.state={rosterImages:[],pcRoster:[]},n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return this.fetchImages(),r.a.createElement("div",{className:"RosterView"},r.a.createElement(S,{active:"activeRoster",fallback:"activeRoster",menuItemClickEvent:this.props.clickEvent,menus:this.menuProps(this.props.roster,this.state.pcRoster)}))}},{key:"fetchImages",value:function(){var e=this;this.state.rosterImages.length<1&&this.props.roster.length>0&&Promise.all(this.props.roster.map((function(e){return R(e.id)}))).then((function(t){return e.setState({rosterImages:t.map((function(e){return e.sprites.front_default}))})}))}},{key:"menuProps",value:function(e,t){return{activeRoster:{menuIcon:r.a.createElement("span",null,"Active"),items:this.createRosterItems(e)},pcRoster:{menuIcon:r.a.createElement("span",null,"PC"),items:t}}}},{key:"createRosterItems",value:function(e){var t=this;return e.map((function(e,n){return r.a.createElement(j,{image:t.state.rosterImages.length<1?"./loading.gif":t.state.rosterImages[n],name:e.id,xp:e.xp,level:e.lvl,maxXp:e.requiredXp(e.lvl),pokemonId:e.id})}))}}]),t}(a.Component),w=Object(s.b)((function(e){return{roster:e.trainer.roster}}))(_),N=(n(56),function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Popup"},r.a.createElement("div",{className:"popupContent"},r.a.createElement("div",null,r.a.createElement("h3",null,this.props.title),r.a.createElement("h3",{onClick:this.props.exitFunction},"X")),r.a.createElement("div",null,this.props.view)),r.a.createElement("div",null))}}]),t}(a.Component)),M=n(12);n(57);var A=function(e){var t=e.text,n=e.onClick,a=e.style;return r.a.createElement("div",{className:"clickable",style:a,onClick:n},t)},D=(n(58),function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"ConfirmWindow"},r.a.createElement("p",null,this.props.toConfirm),r.a.createElement(A,{onClick:this.props.confirmFunction,text:"Confirm"}))}}]),t}(a.Component));var L=function(e){var t=e.name,n=e.sprite,a=e.description;return r.a.createElement("div",{className:"generalDetails"},r.a.createElement("img",{src:n,alt:t}),r.a.createElement("div",{className:"textDetails"},r.a.createElement("h3",null,t),r.a.createElement("p",null,a)))};n(59);var q=function(e){var t=e.name,n=e.sprite,a=e.description,i=e.quantity;return r.a.createElement("div",{id:"inventoryItem"},r.a.createElement(L,{name:t,sprite:n,description:a}),r.a.createElement("div",{id:"quantityDetails"},r.a.createElement("p",null,"x ".concat(i)),r.a.createElement(A,{text:"Use",style:{width:"50px",height:"30px"},onClick:function(){}})))},U=(n(60),[{id:"potion",amount:5},{id:"super-potion",amount:2},{id:"hyper-potion",amount:1}]);var X=function(e){var t=e.pokeName,n=Object(a.useState)(r.a.createElement(q,{name:"Loading...",sprite:"./loading.gif"})),i=Object(M.a)(n,2),o=i[0],c=i[1];return Object(a.useEffect)((function(){Promise.all(U.map((function(e){return C(e.id)}))).then((function(e){return c(e.map((function(e,t){return r.a.createElement(q,{name:e.names.filter((function(e){return"en"===e.language.name}))[0].name,sprite:e.sprites.default,description:e.effect_entries[0].short_effect,quantity:U[t].amount})})))}))}),[]),r.a.createElement("div",{className:"pokeOptions"},r.a.createElement(S,{active:"move",fallback:"move",menus:{move:{menuIcon:r.a.createElement("span",null,"Move"),items:[r.a.createElement(D,{toConfirm:"Would you like to move ".concat(t," to your PC?"),confirmFunction:function(){}})]},item:{menuIcon:r.a.createElement("span",null,"Item"),items:o}}}))},F=(n(61),function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this,e))).showPopup=n.findPO.bind(Object(d.a)(n)),n.exit=n.exit.bind(Object(d.a)(n)),n.showRosterOption=n.showRosterOption.bind(Object(d.a)(n)),n.state={image:"https://avatars.dicebear.com/v2/gridy/".concat(n.props.username,".svg"),popup:!1},n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Profile"},r.a.createElement(j,{name:this.props.username,level:this.props.lvl,xp:this.props.trainerXp,maxXp:this.props.trainerMaxXp,image:this.state.image}),r.a.createElement(w,{clickEvent:this.showRosterOption}),this.popup())}},{key:"popup",value:function(){if(this.state.popup)return r.a.createElement(N,{title:"What would you like to do?",exitFunction:this.exit,view:r.a.createElement(X,{pokeName:this.state.clickedPokemon.name})})}},{key:"showRosterOption",value:function(e){var t=this,n=this.findPO(e.target);!1!==n&&R(n.dataset.pokemon).then((function(e){return t.setState({image:t.state.image,popup:!0,clickedPokemon:e})}))}},{key:"exit",value:function(){this.setState({image:this.state.image,popup:!1})}},{key:"findPO",value:function(e){for(;!Object(u.a)(e.classList).includes("menuItem")&&null!==e;){if(Object(u.a)(e.classList).includes("ProfileOverview"))return e;e=e.parentElement}return!1}}]),t}(a.Component)),V=Object(s.b)((function(e){return{username:e.createProfile.username,lvl:e.trainer.lvl,trainerXp:e.trainer.xp,trainerMaxXp:e.trainer.maxXp}}))(F);n(62);var B=function(e){var t=e.text,n=e.onClick,a=e.linkTo;return r.a.createElement("div",{className:"LinkButton"},r.a.createElement(c.b,{to:a},r.a.createElement(A,{text:t,onClick:n})))},K=(n(64),function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"QuestItem"},r.a.createElement("img",{src:"./loading.gif",alt:"quest",style:this.props.imgStyle}),r.a.createElement("h3",null,this.props.questTitle),r.a.createElement("p",null,this.props.difficulty),r.a.createElement(B,{text:"Details",linkTo:"/quest/".concat(this.props.questTitle)}))}}]),t}(a.Component)),Q=(n(65),function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this,e))).state={redirect:!1,redirectTo:""},n.printTypeOf.bind(Object(d.a)(n)),n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Quest"},this.content())}},{key:"content",value:function(){return this.state.redirect?r.a.createElement(l.a,{push:!0,to:"/quest/".concat(this.state.redirectTo)}):r.a.createElement(S,{active:"quests",fallback:"quests",menus:this.menuProps(),width:"100%",height:"80%"})}},{key:"printTypeOf",value:function(e){this.setState({redirect:!0,redirectTo:e.currentTarget.parentElement.querySelector("h3").innerHTML})}},{key:"addClickEvent",value:function(e){var t=this;e.addEventListener("click",(function(e){return t.printTypeOf(e)}))}},{key:"menuProps",value:function(){return{quests:{items:[r.a.createElement(K,{questTitle:"Killing Dittos",difficulty:"easy"}),r.a.createElement(K,{questTitle:"Eating Magickarp",difficulty:"medium"}),r.a.createElement(K,{questTitle:"Giving Pok\xe9mon Food",difficulty:"hard"})]}}}}]),t}(a.Component)),W=(n(66),function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this,e))).selectToggle=n.selectToggle.bind(Object(d.a)(n)),n.state={checked:"red"},n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"RosterSelector",onClick:this.selectToggle},r.a.createElement(j,{name:this.props.name,image:this.props.image,pokemonId:this.props.pokemonId,xp:this.props.xp,maxXp:this.props.maxXp,level:this.props.level}),r.a.createElement("div",{style:{backgroundColor:this.state.checked}}))}},{key:"selectToggle",value:function(e){"red"===this.state.checked?this.setState({checked:"green"}):this.setState({checked:"red"}),this.props.onToggle(e)}}]),t}(a.Component)),H=(n(67),function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"DetailedQuestInformation"},r.a.createElement("div",null,r.a.createElement("img",{src:"../loading.gif",alt:"quest"}),r.a.createElement(B,{text:"back",linkTo:"/quest"})),r.a.createElement("div",null,r.a.createElement("h3",null,this.props.title),r.a.createElement("p",null,this.props.description),r.a.createElement(A,{text:this.props.buttonText,onClick:this.props.questFunction})))}}]),t}(a.Component)),G=(n(68),function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this,e))).party=[],n.onToggle=n.onToggle.bind(Object(d.a)(n)),n.exit=n.exit.bind(Object(d.a)(n)),n.showPopup=n.showPopup.bind(Object(d.a)(n)),n.popup=n.popup.bind(Object(d.a)(n)),n.fetchImages=n.fetchImages.bind(Object(d.a)(n)),n.state={rosterImages:[],popup:!1,questRoster:[]},n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return this.fetchImages(),r.a.createElement("div",{className:"QuestDetails"},r.a.createElement(H,{icon:"",difficulty:"",title:this.props.questId,description:"Detta ska komma fr\xe5n en store",buttonText:"Take quest",questFunction:this.showPopup}),r.a.createElement(S,{fallback:"availible",active:"availible",menus:this.menuProps(this.props.roster)}),this.popup())}},{key:"fetchImages",value:function(){var e=this;this.state.rosterImages.length<1&&this.props.roster.length>0&&Promise.all(this.props.roster.map((function(e){return R(e.id)}))).then((function(t){return e.setState({rosterImages:t.map((function(e){return e.sprites.front_default}))})}))}},{key:"showPopup",value:function(){var e=this;this.setState({popup:!0,loading:this.state.loading,roster:this.state.rosterView}),this.setState({questRoster:this.props.roster.filter((function(t){return e.party.includes(t.id)})).map((function(e){return e.id}))})}},{key:"popup",value:function(){if(this.state.popup)return r.a.createElement(N,{title:"Please confirm your party",exitFunction:this.exit,view:r.a.createElement(D,{toConfirm:"Is this your roster:".concat(this.state.questRoster.map((function(e){return" "+e})),"?")})})}},{key:"exit",value:function(){this.setState({popup:!1,loading:this.state.loading,roster:this.state.rosterView})}},{key:"onToggle",value:function(e){var t=this.findPO(e.target);!1!==t&&(this.party.includes(t.dataset.pokemon)?this.party=this.party.filter((function(e){return e!==t.dataset.pokemon})):this.party.push(t.dataset.pokemon))}},{key:"findPO",value:function(e){for(;!Object(u.a)(e.classList).includes("RosterSelector")&&null!==e;){if(Object(u.a)(e.classList).includes("ProfileOverview"))return e;e=e.parentElement}return!1}},{key:"menuProps",value:function(e){return{availible:{menuIcon:r.a.createElement("span",null,"Availible"),items:this.createRosterItems(e)}}}},{key:"createRosterItems",value:function(e){var t=this;return e.map((function(e,n){return r.a.createElement(W,{image:t.state.rosterImages.length<1?"./loading.gif":t.state.rosterImages[n],name:e.id,level:e.lvl,xp:e.xp,maxXp:e.requiredXp(e.lvl),pokemonId:e.id,onToggle:t.onToggle})}))}}]),t}(a.Component)),Y=Object(s.b)((function(e){return{roster:e.trainer.roster}}))(G);var z=function(e){var t=e.title;return r.a.createElement("div",{className:"PokeHeader"},r.a.createElement("h1",null,t))};function J(e){switch(e){case"/createProfile":return"CHOOSE YOUR POKEMON!";case"/profile":return"PROFILE";case"/quest":return"QUEST";case"/shop":return"SHOP";default:return"Titel finns inte \xe4n"}}var Z=function(){return r.a.createElement(z,{title:J("/"+Object(l.f)().pathname.split("/")[1])})};var $=function(e){var t=e.to,n=e.value;return r.a.createElement(c.b,{to:t,value:n,className:t==="/".concat(Object(l.f)().pathname.split("/")[1])?"selectedView":void 0},n)};n(69);var ee=function(e){var t=e.visibility,n=e.imgSrc;return r.a.createElement("div",{className:"sidebar",style:t},r.a.createElement("img",{src:n,alt:"Logo"}),r.a.createElement($,{to:"/profile",value:"PROFILE"}),r.a.createElement($,{to:"/quest",value:"QUEST"}),r.a.createElement($,{to:"/shop",value:"SHOP"}))};var te=function(){return r.a.createElement(ee,{visibility:"/createProfile"===Object(l.f)().pathname?{display:"none"}:void 0,imgSrc:"./logo.png"})},ne=n(70);n(71),n(35),n(75),n(35);var ae,re=ne.initializeApp({apiKey:"AIzaSyD8AQMcAd6S3jUU5jH-vDMpQQ63QIdyzRM",authDomain:"pokeidle.firebaseapp.com",databaseURL:"https://pokeidle.firebaseio.com",projectId:"pokeidle",storageBucket:"pokeidle.appspot.com",messagingSenderId:"146960587483",appId:"1:146960587483:web:4ef2fdfcd5f60366448afe"}),ie=function(e){var t=e.starters,n=e.username,a=e.onUsernameChange,i=e.chosenStarter;return r.a.createElement("div",{className:"pImgAndUsername"},r.a.createElement("img",{src:"https://avatars.dicebear.com/v2/gridy/".concat(n,".svg"),alt:"profile"}),r.a.createElement("input",{type:"text",placeholder:"Enter your username...",onInput:function(e){var t=e.target.value;clearTimeout(ae),ae=setTimeout((function(){return a(t)}),300)}}),r.a.createElement(oe,{chosenStarter:i,starters:t,username:n}))},oe=function(e){var t=e.username,n=e.chosenStarter,i=e.starters,o=Object(a.useState)("noRedirect"),c=Object(M.a)(o,2),s=c[0],u=c[1],p=Object(a.useCallback)((function(e){var a,r,o,c;return x.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return e.preventDefault(),a=e.target.elements,r=a.email,o=a.password,c=i.filter((function(e){if(e.name===n)return e}))[0],console.log(c),l.prev=4,l.next=7,x.a.awrap(re.auth().createUserWithEmailAndPassword(r.value,o.value).then((function(e){return console.log("RESULT:"),console.log(e),re.firestore().collection("pokemon").add({name:n,id:c.id,uid:e.user.uid,hp:c.stats[5].base_stat,lvl:1,questId:"",xp:0,inRoster:!1}),e})).then((function(e){re.firestore().collection("trainer").add({username:t,uid:e.user.uid,lvl:1,stamina:20,xp:0}),u("redirect")})).catch(console.error));case 7:l.next=12;break;case 9:l.prev=9,l.t0=l.catch(4),alert(l.t0);case 12:case"end":return l.stop()}}),null,null,[[4,9]])}));return"redirect"===s?(console.log("REDIRECT!!!"),r.a.createElement(l.a,{to:"/profile"})):r.a.createElement("div",{className:"signUp"},r.a.createElement("form",{onSubmit:p},r.a.createElement("label",null,"Email:",r.a.createElement("input",{name:"email",type:"email",placeholder:"Email"})),r.a.createElement("label",null,"Password:",r.a.createElement("input",{name:"password",type:"password",placeholder:"Password"})),r.a.createElement("button",{type:"submit"},"Sign Up")))},ce=function(e){var t=e.starters,n=e.onStarterClick;e.chosenStarter;return r.a.createElement("div",{className:"profileStarters"},t.length>0?t.map((function(e){return r.a.createElement("img",{key:e.id,src:e.sprites.front_default,alt:e.name,onClick:function(e){n(e.target.alt),e.currentTarget.classList.add("img-Selected");for(var t=0;t<e.currentTarget.parentNode.children.length;t++){var a=e.currentTarget.parentNode.children[t];e.currentTarget.alt!==a.alt&&a.classList.remove("img-Selected")}}})})):r.a.createElement("img",{key:"loading",src:"./loading.gif",alt:"loading pokemon..."}))},le=function(e){var t=e.history,n=e.username,a=e.onUsernameChange,i=e.starters,o=e.onStarterClick,c=e.chosenStarter;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,{username:n,onUsernameChange:a,chosenStarter:c,history:t,starters:i}),r.a.createElement(ce,{starters:i,onStarterClick:o,chosenStarter:c}))},se=Object(s.b)((function(e){return{username:e.createProfile.username,starters:e.createProfile.starters,chosenStarter:e.createProfile.chosenStarter}}),(function(e){return{onUsernameChange:function(t){return e({type:"SET_USERNAME",username:t})},onStarterClick:function(t){return e({type:"SET_STARTER",starter:t})},addToRoster:function(t){return e({type:"ADD_TO_ROSTER",pokemon:t})}}}))(le),ue=(n(77),function(){return r.a.createElement("button",{onClick:function(){re.auth().signOut(),alert("You have signed out.")}},"Sign out")});function pe(e){var t=function(){var e=[0,0,0],t={1:[1,152,252,387,495,650,722],2:[4,155,255,390,498,653,725],3:[7,158,258,393,501,656,728]};return(e=e.map((function(){return Math.floor(1+6*Math.random())}))).map((function(e,n){return t[n+1][e-1]}))}().map((function(e){return x.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.awrap(R(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}));Promise.all(t).then((function(t){return e(t)}))}var me=function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){pe(this.props.setStarters)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"createProfile"},r.a.createElement(se,null),r.a.createElement(B,{text:"START",linkTo:"/profile",onClick:function(){return t=e.props.addToRoster,void(""!==(n=e.props.chosenStarter)&&R(n).then((function(e){return t({id:e.name,lvl:1,xp:1,requiredXp:function(e){return Math.pow(10,e)},hp:10,questId:""})})));var t,n}}),r.a.createElement("p",null,"OR"),r.a.createElement(B,{text:"Login",linkTo:"/login"}),r.a.createElement("p",null,"FOR TESTING:"),r.a.createElement(ue,null))}}]),t}(a.Component),fe=Object(s.b)((function(e){return{username:e.createProfile.username,starters:e.createProfile.starters,chosenStarter:e.createProfile.chosenStarter}}),(function(e){return{onUsernameChange:function(t){return e({type:"SET_USERNAME",username:t})},onStarterClick:function(t){return e({type:"SET_STARTER",starter:t})},addToRoster:function(t){return e({type:"ADD_TO_ROSTER",pokemon:t})},setStarters:function(t){return e({type:"SET_STARTERS",starters:t})}}}))(me);var he=function(e){var t=e.active,n=e.fallback,a=e.menus;return r.a.createElement(S,{active:t,fallback:n,menus:a})};n(78);var de=function(e){var t=e.name,n=e.sprite,i=e.cost,o=e.description,c=Object(a.useState)(1),l=Object(M.a)(c,2),s=l[0],u=l[1],p=Object(a.useState)(),m=Object(M.a)(p,2),f=m[0],h=m[1];return Object(a.useEffect)((function(){u(1)}),[t,n,i,o]),r.a.createElement("div",{id:"shopItem"},r.a.createElement(L,{name:t,sprite:n,description:o}),i?r.a.createElement("div",{className:"costDetails"},r.a.createElement("p",null,"".concat(i.amount," ").concat(i.currency,"s")),r.a.createElement("div",null,r.a.createElement("input",{type:"number",min:"1",max:"999",value:s,onChange:function(e){return u(e.target.value)}}),r.a.createElement(A,{text:"Buy",style:{width:"50px",height:"30px"},onClick:function(){h(r.a.createElement(N,{title:"Transaction",exitFunction:function(){return h()},view:r.a.createElement(D,{toConfirm:"Would you like to buy ".concat(s," ").concat(t,"(s) for ").concat(i.amount*s," ").concat(i.currency,"s?"),confirmFunction:function(){}})}))}}))):void 0,f)};n(79);function ve(e){var t=e[0].stats.reduce((function(e,t){return{base_stat:e.base_stat+t.base_stat}})).base_stat,n=e[1].capture_rate,a={};return t<350?(a.currency="Pok\xe9 Ball",a.amount=Math.floor(1e3/n)):t<500?(a.currency="Great Ball",a.amount=Math.floor(400/n)):(a.currency="Ultra Ball",a.amount=Math.floor(300/n)),a}function Ee(e,t){if(e){var n={};return t.forEach((function(t,a){return n[t.name]={menuIcon:r.a.createElement("img",{src:"./"+t.menuIcon,alt:t.name}),items:e[a].map((function(e,n){return t.pokeMenu?r.a.createElement(de,{name:e[1].names.filter((function(e){return"en"===e.language.name}))[0].name,sprite:e[0].sprites.front_default,cost:ve(e),description:"Type: "+e[0].types.map((function(e){return e.type.name})),key:n}):r.a.createElement(de,{name:e.names.filter((function(e){return"en"===e.language.name}))[0].name,sprite:e.sprites.default,cost:{amount:e.cost,currency:"coin"},description:e.effect_entries[0].short_effect,key:n})}))}})),n}return{loading:{items:[r.a.createElement(de,{name:"Loading...",sprite:"./loading.gif"})]}}}var be=function(){var e=Object(a.useState)(Ee()),t=Object(M.a)(e,2),n=t[0],i=t[1];Object(a.useEffect)((function(){var e=[];re.firestore().collection("shop").get().then((function(t){t.forEach((function(t){return e.push(t.data())})),Promise.all(e.map((function(e){return Promise.all(e.items.map((function(t){return e.pokeMenu?Promise.all([R(t),I(t)]):C(t)})))}))).then((function(t){i(Ee(t,e))}))}))}),[]);var o=function(e){for(var t in e)return t}(n);return r.a.createElement("div",{className:"shop"},r.a.createElement(he,{active:o,fallback:o,menus:n,searchbar:!0}))},ge=r.a.createContext(),Oe=function(e){var t=e.children,n=Object(a.useState)(null),i=Object(M.a)(n,2),o=i[0],c=i[1];return Object(a.useEffect)((function(){re.auth().onAuthStateChanged(c)}),[]),r.a.createElement(ge.Provider,{value:{currentUser:o}},t)},ye=(n(80),Object(l.g)((function(e){var t=e.history,n=Object(a.useCallback)((function(e){var n,a,r;return x.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return e.preventDefault(),n=e.target.elements,a=n.email,r=n.password,i.prev=2,i.next=5,x.a.awrap(re.auth().signInWithEmailAndPassword(a.value,r.value));case 5:t.push("/createProfile"),i.next=11;break;case 8:i.prev=8,i.t0=i.catch(2),alert(i.t0);case 11:case"end":return i.stop()}}),null,null,[[2,8]])}),[t]);return Object(a.useContext)(ge).currentUser?r.a.createElement(l.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement("h1",null,"Log in"),r.a.createElement("form",{onSubmit:n},r.a.createElement("label",null,"Email:",r.a.createElement("input",{name:"email",type:"email",placeholder:"Email"})),r.a.createElement("label",null,"Password:",r.a.createElement("input",{name:"password",type:"password",placeholder:"Password"})),r.a.createElement("button",{type:"submit"},"Login")))}))),ke=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ye,null))},je=Object(l.g)((function(e){var t=e.history,n=Object(a.useCallback)((function(e){var n,a,r;return x.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return e.preventDefault(),n=e.target.elements,a=n.email,r=n.password,i.prev=2,i.next=5,x.a.awrap(re.auth().createUserWithEmailAndPassword(a.value,r.value));case 5:t.push("/firebaseTest"),i.next=11;break;case 8:i.prev=8,i.t0=i.catch(2),alert(i.t0);case 11:case"end":return i.stop()}}),null,null,[[2,8]])}),[t]);return r.a.createElement("div",null,r.a.createElement("h1",null,"Sign Up"),r.a.createElement("form",{onSubmit:n},r.a.createElement("label",null,"Email:",r.a.createElement("input",{name:"email",type:"email",placeholder:"Email"})),r.a.createElement("label",null,"Password:",r.a.createElement("input",{name:"password",type:"password",placeholder:"Password"})),r.a.createElement("button",{type:"submit"},"Sign Up")))})),Se=r.a.createContext(),Te=Object(l.g)((function(e){var t=e.history,n=Object(a.useCallback)((function(e){var n,a,r;return x.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return e.preventDefault(),n=e.target.elements,a=n.email,r=n.password,i.prev=2,i.next=5,x.a.awrap(re.auth().signInWithEmailAndPassword(a.value,r.value));case 5:t.push("/firebaseTest"),i.next=11;break;case 8:i.prev=8,i.t0=i.catch(2),alert(i.t0);case 11:case"end":return i.stop()}}),null,null,[[2,8]])}),[t]);return Object(a.useContext)(Se).currentUser?r.a.createElement(l.a,{to:"/firebaseTest"}):r.a.createElement("div",null,r.a.createElement("h1",null,"Log in"),r.a.createElement("form",{onSubmit:n},r.a.createElement("label",null,"Email:",r.a.createElement("input",{name:"email",type:"email",placeholder:"Email"})),r.a.createElement("label",null,"Password:",r.a.createElement("input",{name:"password",type:"password",placeholder:"Password"})),r.a.createElement("button",{type:"submit"},"Login")))})),xe=function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"firebaseTest"},r.a.createElement("div",{className:"signOut"},r.a.createElement("h1",null,"FIREBASE TEST PAGE"),r.a.createElement("button",{onClick:function(){return re.auth().signOut()}},"Sign out")),r.a.createElement(je,null),r.a.createElement(Te,null))}}]),t}(a.Component),Pe=n(39),Re=function(e){var t=e.component,n=Object(Pe.a)(e,["component"]),i=Object(a.useContext)(ge).currentUser;return r.a.createElement(l.b,Object.assign({},n,{render:function(e){return i?r.a.createElement(t,e):r.a.createElement(l.a,{to:"/profile"})}}))},Ie=(n(81),n(27));function Ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;if("SET_POKEMON_HP"===t.type)return t.hp;if("ADD_POKEMON_HP"===t.type)return e+t.hp;if("REMOVE_POKEMON_LVL"===t.type){var n=e-t.hp;return n<0?0:n}return e}function _e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return"SET_POKEMON_ID"===t.type?t.id:e}function we(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;if("SET_POKEMON_LVL"===t.type)return t.lvl;if("ADD_POKEMON_LVL"===t.type)return e+t.lvl;if("REMOVE_POKEMON_LVL"===t.type){var n=e-t.lvl;return n<1?1:n}return e}function Ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"SET_POKEMON_QUEST_ID"===t.type?t.questId:"REMOVE_POKEMON_FROM_QUEST"===t.type?null:e}function Me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return"SET_POKEMON_XP"===t.type?t.xp:"ADD_POKEMON_XP"===t.type?e+t.xp:e}var Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{pokemonHp:Ce(e.pokemonHp,t),pokemonId:_e(e.pokemonId,t),pokemonLvl:we(e.pokemonLvl,t),pokemonQuestId:Ne(e.pokemonQuestId,t),pokemonXp:Me(e.pokemonXp,t)}};function De(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;if("SET_CURRENCY"===t.type)return t.currency;if("ADD_CURRENCY"===t.type)return e+t.currency;if("REMOVE_CURRENCY"===t.type){var n=e-t.currency;return n<0?e:n}return e}function Le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"SET_ITEMS"===t.type?e=t.item:"ADD_ITEMS"===t.type?e.concat(t.item):"REMOVE_ITEMS"===t.type?e.filter((function(e){return e.id!==t.item.id})):e}function qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;if("SET_LVL"===t.type)return t.lvl;if("ADD_LVL"===t.type)return e+t.lvl;if("REMOVE_LVL"===t.type){var n=e-t.lvl;return n<1?1:n}return e}function Ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"SET_PC"===t.type?t.pokemon:"ADD_TO_PC"===t.type?e.concat(t.pokemon):"REMOVE_FROM_PC"===t.type?e.filter((function(e){return e.id!==t.pokemon.id})):e}function Xe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"SET_ROSTER"===t.type?e.length<7?t.pokemon:e:"ADD_TO_ROSTER"===t.type?e.length<6?e.concat(t.pokemon):e:"REMOVE_FROM_ROSTER"===t.type?e.filter((function(e){return e.id!==t.pokemon.id})):e}function Fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;if("SET_STAMINA"===t.type)return t.stamina;if("ADD_STAMINA"===t.type)return e+t.stamina;if("REMOVE_STAMINA"===t.type){var n=e-t.stamina;return n<0?e:n}return e}function Ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return"SET_XP"===t.type?t.xp:"ADD_XP"===t.type?e+t.xp:e}function Be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;return"GET_MAX_PLAYER_XP"!==t.type?Math.pow(10,e):t.lvl>0?Math.pow(10,t.lvl):void 0}var Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{currency:De(e.currency,t),items:Le(e.items,t),lvl:qe(e.lvl,t),pcRoster:Ue(e.pcRoster,t),roster:Xe(e.roster,t),stamina:Fe(e.stamina,t),xp:Ve(e.xp,t),maxXp:Be(e.lvl,t)}};function Qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=arguments.length>1?arguments[1]:void 0;return"SET_STARTER"===t.type?t.starter:e}function We(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"SET_STARTERS"===t.type?t.starters:e}function He(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Pokemon",t=arguments.length>1?arguments[1]:void 0;return"SET_USERNAME"===t.type?t.username:e}function Ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{username:He(e.username,t),starters:We(e.starters,t),chosenStarter:Qe(e.chosenStarter,t)}}var Ye=function(e){return setInterval((function(){return Je(e)}),ze)},ze=1e3,Je=function(e){Ze((function(){return e.dispatch({type:"ADD_XP",xp:1})}),(function(){return e.getState().trainer.xp}),(function(){return e.getState().trainer.maxXp}),(function(){return e.dispatch({type:"ADD_LVL",lvl:1})})),$e((function(){return e.getState().trainer.roster}),(function(t){return e.dispatch({type:"SET_ROSTER",pokemon:t})}))},Ze=function(e,t,n,a){e(),t()>=n()&&a()},$e=function(e,t){t(e().map((function(e){return e.xp+=1,e.xp>e.requiredXp(e.lvl)&&(e.xp=1,e.lvl+=1),e})))};var et=Object(Ie.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{pokemon:Ae(e.pokemon,t),trainer:Ke(e.trainer,t),createProfile:Ge(e.createProfile,t)}}));Ye(et);var tt=function(){return r.a.createElement(Oe,null,void re.auth().onAuthStateChanged((function(e){e?console.log(e):console.log("USER HAS/IS LOGGED OUT.")})),r.a.createElement(s.a,{store:et},r.a.createElement("div",{className:"App"},r.a.createElement(te,null),r.a.createElement("div",null,r.a.createElement(Z,null),r.a.createElement(l.b,{exact:!0,path:"/profile",render:function(e){return r.a.createElement(V,null)}}),r.a.createElement(l.b,{path:"/createProfile",render:function(e){return r.a.createElement(fe,null)}}),r.a.createElement(l.b,{exact:!0,path:"/quest",render:function(e){return r.a.createElement(Q,null)}}),r.a.createElement(l.b,{exact:!0,path:"/quest/:id",render:function(e){return r.a.createElement(Y,{questId:e.match.params.id})}}),r.a.createElement(l.b,{path:"/shop",component:be}),r.a.createElement(l.b,{path:"/firebaseTest",component:xe}),r.a.createElement(Re,{path:"/private",component:xe}),r.a.createElement(l.b,{path:"/login",component:ke})))))};n(82);o.a.render(r.a.createElement(c.a,null,r.a.createElement(tt,null)),document.getElementById("root"))}]),[[40,1,2]]]);
//# sourceMappingURL=main.a13f9966.chunk.js.map